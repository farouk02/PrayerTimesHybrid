@page "/"

<div class="container">
    <div class="time-display">
        <div class="time">@currentTime.ToString("h:mm tt")</div>
        <div class="verse">
            <p>وَاتَّقُوا يَوْمًا لَّا تَجْزِى نَفْسٌ عَن نَّفْسٍ شَيْئًا وَلَا يُقْبَلُ مِنْهَا عَدْلٌ وَلَا تَنفَعُهَا شَفَاعَةٌ وَلَا هُمْ يُنصَرُونَ</p>
            <p>البقرة (الآية 123)</p>
        </div>
    </div>

    <div class="prayer-times">
        <PrayerTime PrayerName="Fajr" PrayerValue="@prayerTimes.FajrTime.ToString("hh:mm tt")" />
        <PrayerTime PrayerName="Sunrise" PrayerValue="@prayerTimes.SunriseTime.ToString("hh:mm tt")" />
        <PrayerTime PrayerName="Dhuhr" PrayerValue="@prayerTimes.DhuhrTime.ToString("hh:mm tt")" />
        <PrayerTime PrayerName="Asr" PrayerValue="@prayerTimes.AsrTime.ToString("hh:mm tt")" />
        <PrayerTime PrayerName="Maghrib" PrayerValue="@prayerTimes.MaghribTime.ToString("hh:mm tt")" />
        <PrayerTime PrayerName="Isha" PrayerValue="@prayerTimes.IshaTime.ToString("hh:mm tt")" />
    </div>
</div>

@code {
    private DateTime currentTime = DateTime.Now;

    private PrayerTimes prayerTimes = new();

    protected override async Task OnInitializedAsync()
    {
        // ... Get Prayer Times
        prayerTimes = await GetPrayerTimesAsync();
    }
    
    public class PrayerTimes
    {
        public DateTime FajrTime { get; set; } = DateTime.Now;
        public DateTime SunriseTime { get; set; } = DateTime.Now;
        public DateTime DhuhrTime { get; set; } = DateTime.Now;
        public DateTime AsrTime { get; set; } = DateTime.Now;
        public DateTime MaghribTime { get; set; } = DateTime.Now;
        public DateTime IshaTime { get; set; } = DateTime.Now;
    }

    private async Task<PrayerTimes> GetPrayerTimesAsync()
    {
        await Task.Delay(1000); // Simulate API call
        return new PrayerTimes();
    }
}